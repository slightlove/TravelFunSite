{"version":3,"sources":["images/default.jpeg","pages/Item/index.js","utils/member.js","model/team.model.js","pages/Team/index.js","utils/validate.js","utils/message.js","pages/Signup/index.js","model/attractions.model.js","pages/TeamForm/index.js","utils/fetchAttractions.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Item","_ref","data","amount","navigate","useNavigate","Id","Name","Picture1","Description","react_default","a","createElement","className","src","defaultImg","alt","type","onClick","concat","countMemberAmount","members","temp","member","err","team_model","TeamDB","Object","classCallCheck","this","collection","JSON","parse","localStorage","getItem","userId","filter","x","id","result","length","console","error","extraId","origin","target","_i","_keys","keys","key","dayjs","format","success","message","uuid","push","get","updateTeam","createTeam","saveToStore","items","forEach","item","user","quota","founders","memberAmount","founder","quotaAmount","getTeamQuota","neededQuota","createOrUpdate","log","_context","t0","removeItem","setItem","stringify","Team","_useState","useState","_useState2","slicedToArray","teams","setTeams","params","useParams","useEffect","getByExtraId","map","title","time_start","time_end","name","location","description","male","female","child","memberNonLimit","clearTeam","role","TeamFromSchema","yup","min","required","SignSchema","sendMessage","_ref2","asyncToGenerator","regenerator_default","mark","_callee","contextType","config","wrap","prev","next","liff","ready","getContext","indexOf","abrupt","toast","position","autoClose","text","displayName","process","sendMessages","then","stop","_x","apply","arguments","Signup","setQuota","_useForm","useForm","resolver","yupResolver","defaultValues","register","handleSubmit","reset","onSubmit","_yield$TeamDB$signUpT","signUpTeam","objectSpread","sent","refresh","onClose","_ref3","_callee2","_yield$TeamDB$getTeam","_context2","_callee3","_context3","Fragment","htmlFor","assign","defaultValue","TeamForm","currentLocation","setCurrentLocation","_useState3","Date","_useState4","setTimeStart","_useState5","_useState6","setTimeEnd","_useState7","_useState8","setMemberNonLimit","errors","formState","_yield$get","validateJoinMember","joinTotal","placeholder","maxLength","rows","value","disabled","react_datepicker_min_default","dateFormat","selected","onChange","date","minDate","getAttractions","undefined","attractionsData","idx","App","isLogin","setUser","team","setTeam","init","liffId","withLoginOnExternalBrowser","isLoggedIn","login","getProfile","t1","getAmount","react_router_dom","basename","react_router","exact","path","element","pages_Item","pages_Team","pages_Signup","react_toastify_esm","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c682e4ef.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/default.8e49fb83.jpeg\";","import React from 'react'\nimport defaultImg from '@/images/default.jpeg'\nimport { useNavigate } from 'react-router-dom'\n\nconst Item = ({ data, amount }) => {\n  const navigate = useNavigate()\n  const { Id, Name, Picture1, Description } = data\n  const addTeam = id => navigate(`${id}/registration`)\n  const visitTeam = id => navigate(`${id}/teams`)\n\n  return (\n    <div className=\"card my-3\">\n      <div className=\"row g-0\">\n        <div className=\"col-md-4\">\n          <img src={Picture1 || defaultImg} className=\"img-fluid rounded-start\" alt={Name} />\n        </div>\n        <div className=\"col-md-8\">\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">{Name}</h5>\n            <div className=\"card-text\">{Description}</div>\n            <div className=\"d-flex justify-content-end mt-3\">\n              <div className=\"btn-group\">\n                {amount && (\n                  <button type=\"button\" className=\"btn btn-success\" onClick={() => visitTeam(Id)}>\n                    我想報名\n                  </button>\n                )}\n                <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={() => addTeam(Id)}>\n                  我要揪團\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Item\n","export const countMemberAmount = members => {\n  try {\n    let temp = 0\n    for (let member in members) temp += members[member]\n    return temp\n  } catch (err) {\n    throw err\n  }\n}\n","// import { db } from './sql/firebase'\n// import { collection, getDocs } from 'firebase/firestore/lite'\nimport { v4 as uuid } from 'uuid'\nimport dayjs from 'dayjs'\nimport { countMemberAmount } from '@utils/member'\n\nclass TeamDB {\n  constructor() {\n    this.collection = 'team'\n    this.data = JSON.parse(localStorage.getItem('team')) || []\n  }\n  getAll() {\n    return this.data\n  }\n  getByUser(userId) {\n    return this.data.filter(x => x.userId === userId)\n  }\n\n  get(id) {\n    try {\n      const result = this.data.filter(x => x.id === id)\n      if (result.length !== 0) return result[0]\n      else return null\n    } catch (err) {\n      console.error(`Get data ${id} failed, because ${err}`)\n      throw err\n    }\n  }\n\n  getByExtraId(id) {\n    try {\n      const result = this.data.filter(x => x.extraId === id)\n      if (result.length !== 0) return result\n      else return null\n    } catch (err) {\n      console.error(`Get data ${id} failed, because ${err}`)\n      throw err\n    }\n  }\n\n  updateTeam(origin, target) {\n    let keys = Object.keys(origin)\n    for (let key of keys) {\n      origin[key] = target[key]\n    }\n    origin['time_update'] = dayjs().format('YYYY/MM/DD HH:mm:ss')\n    origin['status'] = 'PENDING'\n    return { success: true, message: 'success update team.' }\n  }\n\n  createTeam(data) {\n    let temp = data\n    temp['id'] = uuid()\n    temp['time_create'] = dayjs().format('YYYY/MM/DD HH:mm:ss')\n    this.data.push(temp)\n    return { success: true, message: temp['id'] }\n  }\n\n  createOrUpdate(data) {\n    const result = this.get(data.id)\n    if (result) this.updateTeam(result, data)\n    else this.createTeam(data)\n\n    this.saveToStore()\n  }\n\n  getAmount(userId) {\n    try {\n      const items = this.data\n      let temp = {}\n      items.forEach(item => {\n        if (item.user.userId !== userId) {\n          if (typeof temp[item['extraId']] == 'undefined') temp[item['extraId']] = 1\n          else temp[item['extraId']]++\n        }\n      })\n      return temp\n    } catch (err) {\n      console.error(err)\n      throw err\n    }\n  }\n\n  getTeamQuota(id) {\n    try {\n      const target = this.get(id)\n      let quota = 0\n      let { members, founders, memberAmount } = target\n      for (let founder in founders) quota += founders[founder]\n      for (let member in members) quota += members[member]\n      return { memberAmount, quotaAmount: quota }\n    } catch (err) {\n      console.error(err)\n      throw err\n    }\n  }\n\n  // 報名\n  async signUpTeam(data) {\n    try {\n      const { id, members } = data\n      const target = this.get(id)\n      const { memberAmount, quotaAmount } = this.getTeamQuota(id)\n      let neededQuota = countMemberAmount(members)\n      if (!members) return { success: false, message: 'Members is empty.' }\n\n      if (neededQuota > memberAmount - quotaAmount) return { success: false, message: '人數超過揪團人數' }\n\n      for (let member in members) {\n        target['members'][member] += members[member]\n      }\n\n      await this.createOrUpdate(target)\n      return { success: true, message: 'Success save in storage.' }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  clearTeam(id) {\n    const target = this.get(id)\n    const { members } = target\n    for (let member in members) {\n      members[member] = 0\n    }\n    this.createOrUpdate(target)\n  }\n\n  saveToStore() {\n    try {\n      localStorage.removeItem('team')\n      localStorage.setItem('team', JSON.stringify(this.data))\n    } catch (err) {\n      throw err\n    }\n  }\n}\n\nexport default new TeamDB()\n","import React, { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useParams } from 'react-router-dom'\nimport TeamDB from '@model/team.model'\nimport dayjs from 'dayjs'\n\nconst Team = () => {\n  const [teams, setTeams] = useState([])\n  const params = useParams()\n  const navigate = useNavigate()\n\n  const onSignup = id => navigate(`/${id}/signup`)\n\n  useEffect(() => {\n    const userId = localStorage.getItem('user')\n    const teams = TeamDB.getByExtraId(params.id).filter(x => x.user.userId !== userId)\n\n    setTeams(teams)\n  }, [])\n\n  return (\n    <div className=\"row my-3\">\n      {(teams.length !== 0 &&\n        teams.map(item => (\n          <div className=\"col-4\" key={item.id}>\n            <div className=\"card\">\n              <div className=\"card-header bg-primary text-white\">\n                <h5 className=\"card-title\">{item.title}</h5>\n              </div>\n              <div className=\"card-body\">\n                <h6>出團時間：</h6>\n                <div className=\"text-muted mb-2\">\n                  {dayjs(item.time_start).format('YYYY/MM/DD')}\n                  {item.time_end !== item.time_start && ~dayjs(item.time_end).format('YYYY/MM/DD')}\n                </div>\n                <h6>主辦人</h6>\n                <p className=\"text-muted mb-2\">{item.user.name}</p>\n                <h6>地點：</h6>\n                <div className=\"card-subtitle mb-2 text-muted\">{item.location}</div>\n                <h6>揪團描述：</h6>\n                <p className=\"text-muted mb-2\">{item.description}</p>\n                <h6>主辦分已有人數</h6>\n                <p>\n                  男性：{item.founders.male} / 女性：{item.founders.female} / 小孩：{item.founders.child}\n                </p>\n                <h6>揪團人員需求：</h6>\n                {!item.memberNonLimit && (\n                  <p className=\"text-muted mb-2\">\n                    男性：{item.members.male} / 女性：{item.members.female} / 小孩：{item.members.child} , 總計{' '}\n                    {item.memberAmount} 人\n                  </p>\n                )}\n                {item.memberNonLimit && <p className=\"text-muted mb-2\">不拘</p>}\n\n                <button type=\"button\" className=\"btn btn-success\" onClick={() => onSignup(item.id)}>\n                  我要報名\n                </button>\n                <button type=\"button\" className=\"btn btn-danger ms-3\" onClick={() => TeamDB.clearTeam(item.id)}>\n                  清除資料\n                </button>\n              </div>\n            </div>\n          </div>\n        ))) || (\n        <div className=\"alert alert-danger\" role=\"alert\">\n          目前無符合您的揪團資訊\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Team\n","import * as yup from 'yup'\n\nexport const TeamFromSchema = yup\n  .object({\n    title: yup\n      .string()\n      .min(1, '請輸入標題')\n      .required(),\n    description: yup.string().min(1, '請輸入活動描述'),\n    founder: yup.string(),\n    time_start: yup.date(),\n    time_end: yup.date(),\n    members: yup.object({\n      male: yup.number(),\n      female: yup.number(),\n      child: yup.number()\n    }),\n    founders: yup.object({\n      male: yup.number(),\n      female: yup.number(),\n      child: yup.number()\n    }),\n    memberAmount: yup.number().min(1, '出團人數需大於 0')\n  })\n  .required()\n\nexport const SignSchema = yup.object({\n  members: yup.object({\n    male: yup.number(),\n    female: yup.number(),\n    child: yup.number()\n  })\n})\n","import liff from '@line/liff'\nimport dayjs from 'dayjs'\nimport { toast } from 'react-toastify'\n\nexport const sendMessage = async ({ data, type }) => {\n  await liff.ready\n  const { location, memberAmount, time_start, time_end } = data\n  const contextType = (liff.getContext() || {}).type\n  const isInChat = ~['utou', 'room', 'group'].indexOf(contextType)\n  if (!isInChat) return toast.error('您尚未在 Line 軟體內', { position: 'top-right', autoClose: 3000 })\n  const config = {\n    createTeam: {\n      type: 'text',\n      text: `各位揪友好！我是${data.user.displayName}。將會舉辦從${dayjs(time_start).format('YYYY/MM/DD')} 至 ${dayjs(\n        time_end\n      ).format('YYYY/MM/DD')} 活動，地點在 ${location}，人數需要 ${memberAmount}人，若有興趣，歡迎前往${\n        process.env.REACT_APP_BASE_URL\n      }/${data.extraId}/signup 報名！`\n    }\n  }\n  try {\n    liff\n      .sendMessages([config[type]])\n      .then(() => toast.success('訊息已發送', { position: 'top-right', autoClose: 3000 }))\n  } catch (err) {\n    toast.error(err, { position: 'top-right', autoClose: 3000 })\n  }\n}\n","import React, { useEffect, useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { yupResolver } from '@hookform/resolvers/yup'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { SignSchema } from '@utils/validate'\nimport TeamDB from '@model/team.model'\nimport { sendMessage } from '@utils/message'\n\nconst Signup = ({ toast }) => {\n  const params = useParams()\n  const navigate = useNavigate()\n\n  const [quota, setQuota] = useState({})\n  const { memberAmount, quotaAmount } = quota\n  const { register, handleSubmit, reset } = useForm({\n    resolver: yupResolver(SignSchema),\n    defaultValues: {\n      members: { male: 0, female: 0, child: 0 }\n    }\n  })\n\n  const onSubmit = async data => {\n    try {\n      const { success, message } = await TeamDB.signUpTeam({ ...data, id: params.id })\n      if (!success) {\n        return toast.error(message, { position: 'top-right', autoClose: 1000 })\n      }\n      refresh()\n      toast.success(message, { position: 'top-right', autoClose: 1000, onClose: () => navigate(-1) })\n      reset()\n    } catch (err) {\n      toast.error(err, { position: 'top-right', autoClose: 1000 })\n      throw err\n    }\n  }\n\n  const refresh = async () => {\n    const { memberAmount, quotaAmount } = await TeamDB.getTeamQuota(params.id)\n    setQuota({ memberAmount, quotaAmount })\n  }\n\n  useEffect(async () => {\n    await refresh()\n  }, [])\n\n  return (\n    <div className=\"container\">\n      {memberAmount === quotaAmount ? (\n        <div className=\"row\">\n          <div className=\"alert alert-danger my-3\" role=\"alert\">\n            此揪團已滿，無法報名囉！\n          </div>\n          <button className=\"btn btn-danger\" onClick={() => navigate(-1)}>\n            返回\n          </button>\n        </div>\n      ) : (\n        <>\n          <h1 className=\"my-4 text-center\">我要報名</h1>\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"row\">\n              <div className=\"col-12 mb-3\">\n                活動參與人數：\n                <span className=\"text-success\">\n                  {quota.quotaAmount} / {quota.memberAmount}\n                </span>\n                人\n              </div>\n              <div className=\"col-4 mb-3\">\n                <label htmlFor=\"male\" className=\"form-label\">\n                  男性\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control\"\n                  id=\"male\"\n                  {...register('members.male', { required: true, min: 0 })}\n                />\n              </div>\n              <div className=\"col-4 mb-3\">\n                <label htmlFor=\"female\" className=\"form-label\">\n                  女性\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control\"\n                  id=\"female\"\n                  defaultValue=\"0\"\n                  {...register('members.female', { required: true, min: 0 })}\n                />\n              </div>\n              <div className=\"col-4 mb-3\">\n                <label htmlFor=\"child\" className=\"form-label\">\n                  小孩\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  className=\"form-control\"\n                  id=\"child\"\n                  defaultValue=\"0\"\n                  {...register('members.child', { required: true, min: 0 })}\n                />\n              </div>\n              <div className=\"d-flex\">\n                <button type=\"submit\" className=\"flex-fill btn btn-primary me-3\">\n                  送出\n                </button>\n                <button type=\"button\" className=\"flex-fill btn btn-secondary\" onClick={() => reset()}>\n                  重置\n                </button>\n              </div>\n            </div>\n          </form>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default Signup\n","import items from '@utils/constant/attractions'\nimport dayjs from 'dayjs'\nexport const AttractionType = {\n  1: '文化類',\n  2: '生態類',\n  3: '古蹟類',\n  4: '廟宇類',\n  5: '藝術類',\n  6: '小吃/特產類',\n  7: '國家公園類',\n  8: '國家風景區類',\n  9: '休閒農業類',\n  10: '溫泉類',\n  11: '自然風景類',\n  12: '遊憩類',\n  13: '體育健身類',\n  14: '觀光工廠類',\n  15: '都會公園類',\n  16: '森林遊樂區類',\n  17: '林場類',\n  18: '其他'\n}\n\nexport const get = id => {\n  try {\n    const result = items.data.filter(x => x.Id === id || x.extraId === id)\n    if (result.length === 0) return null\n    else return result[0]\n  } catch (err) {\n    throw err\n  }\n}\n\nexport const getAll = items['data'] || []\n\nexport const getTypes = data => {\n  let keys = Object.keys(data)\n  let temp = []\n  for (let key of keys) {\n    if (/^Class[\\d]/.test(key) && data[key]) {\n      temp.push(AttractionType[data[key]])\n    }\n  }\n  return temp\n}\n\nexport const getUpdateTime = dayjs(items['updatetime']).format('YYYY/MM/DD HH:mm')\n","import React, { useState, useEffect } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { yupResolver } from '@hookform/resolvers/yup'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { get } from '@model/attractions.model'\nimport { TeamFromSchema } from '@utils/validate'\nimport { sendMessage } from '@utils/message'\nimport TeamDB from '@/model/team.model'\nimport DatePicker from 'react-datepicker'\n\nimport 'react-datepicker/dist/react-datepicker.css'\n\nexport default function TeamForm({ user, toast }) {\n  const params = useParams()\n  const navigate = useNavigate()\n\n  const [currentLocation, setCurrentLocation] = useState({\n    location: ''\n  })\n  const [time_start, setTimeStart] = useState(new Date())\n  const [time_end, setTimeEnd] = useState(new Date())\n  const [memberNonLimit, setMemberNonLimit] = useState(false)\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors }\n  } = useForm({\n    resolver: yupResolver(TeamFromSchema),\n    defaultValues: {\n      title: 'Test001',\n      description: 'Testing',\n      extraId: params.id,\n      memberAmount: 1,\n      members: { male: 0, female: 0, child: 0 },\n      founders: { male: 0, female: 0, child: 0 }\n    }\n  })\n  useEffect(async () => {\n    try {\n      const { Name } = await get(params.id)\n      setCurrentLocation({ location: Name })\n    } catch (err) {\n      toast.error(err, { position: 'top-right', autoClose: 1000 })\n      throw err\n    }\n  }, [])\n\n  const onSubmit = async data => {\n    if (!validateJoinMember(data)) {\n      toast.error('揪團人數與設定男女人數不相同', { position: 'top-right', autoClose: 1000 })\n      return\n    }\n    data['location'] = currentLocation.location\n    data['time_start'] = time_start\n    data['time_end'] = time_end\n    data['user'] = user\n    data['status'] = data['memberAmount'] === 1 ? 'START' : 'PENDING'\n    data['memberNonLimit'] = memberNonLimit\n    await TeamDB.createOrUpdate(data)\n    sendMessage({ data, type: 'createTeam' })\n    navigate('/')\n  }\n\n  const cancel = () => navigate('/')\n\n  const validateJoinMember = data => {\n    let { members, founders, memberAmount } = data\n    let joinTotal = 0\n    for (let founder in founders) {\n      joinTotal += founders[founder]\n    }\n    if (!memberNonLimit) {\n      for (let member in members) {\n        joinTotal += members[member]\n      }\n      return joinTotal === memberAmount\n    }\n    return true\n  }\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"my-4 text-center\">團隊申請</h1>\n      <p className=\"text-muted text-center\">親愛的會員您好，本申請表格僅提供「景點/活動」揪團作業。</p>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <input type=\"hidden\" name=\"extraId\" />\n        <div className=\"row\">\n          <div className=\"col-12 mb-3\">\n            <input\n              type=\"text\"\n              className={`form-control ${errors.title && 'is-invalid'}`}\n              id=\"title\"\n              placeholder=\"請輸入您的標題\"\n              {...register('title', {\n                required: true,\n                maxLength: 50\n              })}\n            />\n            {errors.title && <div className=\"invalid-feedback\">{errors.title.message}</div>}\n          </div>\n          <div className=\"col-12 mb-3\">\n            <textarea\n              className={`form-control ${errors.description && 'is-invalid'}`}\n              id=\"description\"\n              rows=\"5\"\n              placeholder=\"請輸入出團的描述，如揪團限制、交通方式以及其他注意事項\"\n              {...register('description', { required: true })}\n            />\n            {errors.description && <div className=\"invalid-feedback\">{errors.description.message}</div>}\n          </div>\n          <div className=\"col-6 mb-3\">\n            <label htmlFor=\"founder\" className=\"form-label\">\n              主辦人\n            </label>\n            <input\n              id=\"founder\"\n              type=\"text\"\n              className=\"form-control\"\n              name=\"founder\"\n              value={user.displayName || ''}\n              disabled\n            />\n          </div>\n          <div className=\"col-6 mb-3\">\n            <label htmlFor=\"location\" className=\"form-label\">\n              出遊地點\n            </label>\n            <input\n              type=\"text\"\n              min=\"0\"\n              className=\"form-control\"\n              id=\"location\"\n              value={currentLocation.location}\n              disabled\n            />\n          </div>\n          <div className=\"col-6 mb-3\">\n            <label htmlFor=\"time_start\" className=\"form-label\">\n              出發時間\n            </label>\n            <DatePicker\n              id=\"time_start\"\n              dateFormat=\"yyyy-MM-dd\"\n              selected={time_start}\n              onChange={date => setTimeStart(date)}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"col-6 mb-3\">\n            <label htmlFor=\"time_end\" className=\"form-label\">\n              結束時間\n            </label>\n            <DatePicker\n              id=\"time_end\"\n              dateFormat=\"yyyy-MM-dd\"\n              selected={time_end}\n              onChange={date => setTimeEnd(date)}\n              minDate={time_start}\n              className=\"form-control\"\n            />\n          </div>\n          <div className=\"col-12 mb-3\">\n            <label htmlFor=\"memberAmount\" className=\"form-label\">\n              揪團人數\n            </label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              className={`form-control ${errors.memberAmount && 'is-invalid'}`}\n              id=\"memberAmount\"\n              defaultValue=\"1\"\n              {...register('memberAmount', { required: true, min: 1 })}\n            />\n            {errors.memberAmount && <div className=\"invalid-feedback\">{errors.memberAmount.message}</div>}\n          </div>\n          <div className=\"col-4 mb-3\">\n            <label htmlFor=\"male\" className=\"form-label\">\n              主辦方男性\n            </label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              className=\"form-control\"\n              id=\"male\"\n              {...register('founders.male', { required: true, min: 0 })}\n            />\n          </div>\n          <div className=\"col-4 mb-3\">\n            <label htmlFor=\"female\" className=\"form-label\">\n              主辦方女性\n            </label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              className=\"form-control\"\n              id=\"female\"\n              defaultValue=\"0\"\n              {...register('founders.female', { required: true, min: 0 })}\n            />\n          </div>\n          <div className=\"col-4 mb-3\">\n            <label htmlFor=\"child\" className=\"form-label\">\n              主辦方小孩\n            </label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              className=\"form-control\"\n              id=\"child\"\n              defaultValue=\"0\"\n              {...register('founders.child', { required: true, min: 0 })}\n            />\n          </div>\n          <div className=\"col-4 mb-3\">\n            <label htmlFor=\"male\" className=\"form-label\">\n              男性\n            </label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              className=\"form-control\"\n              id=\"male\"\n              disabled={memberNonLimit}\n              {...register('members.male', { required: true, min: 0 })}\n            />\n          </div>\n          <div className=\"col-4 mb-3\">\n            <label htmlFor=\"female\" className=\"form-label\">\n              女性\n            </label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              className=\"form-control\"\n              id=\"female\"\n              defaultValue=\"0\"\n              disabled={memberNonLimit}\n              {...register('members.female', { required: true, min: 0 })}\n            />\n          </div>\n          <div className=\"col-4 mb-3\">\n            <label htmlFor=\"child\" className=\"form-label\">\n              小孩\n            </label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              className=\"form-control\"\n              id=\"child\"\n              defaultValue=\"0\"\n              disabled={memberNonLimit}\n              {...register('members.child', { required: true, min: 0 })}\n            />\n          </div>\n          <div className=\"col-6 mb-3\">\n            <div className=\"form-check\">\n              <input\n                className=\"form-check-input\"\n                type=\"checkbox\"\n                id=\"membersNoLimit\"\n                {...register('membersNoLimit')}\n                onChange={() => setMemberNonLimit(!memberNonLimit)}\n              />\n              <label className=\"form-check-label\" htmlFor=\"membersNoLimit\">\n                不拘\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"d-flex justify-content-end\">\n          <button type=\"button\" className=\"btn btn-outline-secondary btn-lg me-3\" onClick={cancel}>\n            取消\n          </button>\n          <button type=\"submit\" className=\"btn btn-primary btn-lg\">\n            送出\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n","import attractionsData from '@utils/constant/attractions'\n\nexport const getAll = () => attractionsData\n\nexport const getAttractions = (amount = 50) => {\n  const { data } = attractionsData\n  return data.filter((item, idx) => idx < amount)\n}\n","import React, { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom'\nimport { ToastContainer, toast } from 'react-toastify'\nimport liff from '@line/liff'\n\nimport Item from '@pages/Item'\nimport Team from '@pages/Team'\nimport Signup from '@pages/Signup'\nimport TeamForm from '@pages/TeamForm'\nimport TeamDB from '@model/team.model'\n\nimport { getAttractions } from '@utils/fetchAttractions'\nimport { sendMessage } from '@utils/message'\nimport 'react-toastify/dist/ReactToastify.css'\n\nfunction App() {\n  const [isLogin] = useState(true)\n  const [user, setUser] = useState({})\n  const [team, setTeam] = useState({})\n\n  useEffect(async () => {\n    await liff.init({ liffId: process.env.REACT_APP_LIFFID, withLoginOnExternalBrowser: true })\n    if (!liff.isLoggedIn()) liff.login()\n    setUser(await liff.getProfile())\n    // setUser({ displayName: 'Chuchu', userId: '002' })\n    localStorage.setItem('user', user.userId)\n  }, [user.userId])\n\n  useEffect(() => {\n    setTeam(TeamDB.getAmount(user.userId))\n  }, [])\n\n  return (\n    <div className=\"container\">\n      <Router basename={process.env.NODE_ENV === 'development' ? '' : '/TravelFunSite'}>\n        <Routes>\n          <Route\n            exact\n            path=\"/\"\n            element={\n              isLogin &&\n              getAttractions(5).map(item => <Item key={item.Id} data={item} amount={team[item.Id] || false} />)\n            }\n          />\n          <Route path=\"/:id/registration\" element={<TeamForm user={user} toast={toast} />} />\n          <Route path=\"/:id/teams\" element={<Team />} />\n          <Route path=\"/:id/signup\" element={<Signup toast={toast} />} />\n        </Routes>\n      </Router>\n      <ToastContainer />\n    </div>\n  )\n}\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('app'))\n"],"sourceRoot":""}